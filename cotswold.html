<!doctype html>
<html ng-app="cotswoldApp">
  <head>
    <link rel="stylesheet" type="text/css" href="cotswold.css"/>
    <script src="angular-1.0.2.min.js"></script>
    <script src="jquery-1.8.2.min.js"></script>
    <script src="raphael-2.1.0-min.js"></script>
    <script src="cotswold.js"></script>
  </head>
  <body>
    <timeline id="timeline" ng-controller="TimelineController">
      <timepoint ng-repeat="timepoint in timepoints">
        <!-- FIXME: find programmatic way to determine loop variable name
             within directive link function -->
        <artifact 
          ng-repeat="artifact in timepoint.artifacts"
          loop-variable="artifact"
        >Visibility
          <div class="artifact-content" style="display: {{artifact.contentDisplay}};">
            <span ng-repeat="chunk in artifact.contentChunks" 
              id="{{chunk.spanId}}"
              class="{{chunk.class}}">{{chunk.content}}</span>
          </div>
          <img src="baa.jpeg" style="display: {{artifact.imageDisplay}};"/>
          <div class="artifact-tail"></div>
        </artifact>
        <span style="position: absolute">{{timepoint.name}}</span>
      </timepoint>
    </timeline>
    <div id="connections" class="connections-glass"></div>
  </body>
</html>
